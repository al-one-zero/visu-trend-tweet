<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Rapport VTT - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;padding:0 15px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc-label{opacity:.3;background-color:#ccc;border:none;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-published-note{color:#337ab7}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="false" style="position: relative;"><h1 id="VTT-🚴‍♂️"><a class="anchor hidden-xs" href="#VTT-🚴‍♂️" title="VTT-🚴‍♂️"><span class="octicon octicon-link"></span></a>VTT 🚴‍♂️</h1><h2 id="Une-webapp-de-visualisation-de-tweets-en-python-et-javascript"><a class="anchor hidden-xs" href="#Une-webapp-de-visualisation-de-tweets-en-python-et-javascript" title="Une-webapp-de-visualisation-de-tweets-en-python-et-javascript"><span class="octicon octicon-link"></span></a>Une webapp de visualisation de tweets en <code>python</code> et <code>javascript</code></h2><h2 id="0---Introduction"><a class="anchor hidden-xs" href="#0---Introduction" title="0---Introduction"><span class="octicon octicon-link"></span></a>0 - Introduction</h2><p>VTT est une webapp se donnant pour but de rechercher, filtrer et visualiser rapidement une série de tweets. En pratique, VTT consiste en un serveur écrit en <code>python</code> servant un site écrit en HTML/CSS/JS.<br>
Ce projet se veut être une application directe des enseignements de l’UE Langages dynamiques (<a href="https://www.lri.fr/~conchon/LangDyn/" title="Sylvain Conchon: Cours sur Python (2017-2020)" target="_blank" rel="noopener">Python</a> &amp; <a href="https://www.lri.fr/~kn/ld_en.html" title="Kim NGuyen: Programmation Web Avancée (2017-2020)" target="_blank" rel="noopener">JS</a>) du master ISD de l’Université Paris-Saclay.<br>
Ce projet requiert python 3.6+.<br>
La structure du projet aura l’allure suivante :</p><pre><code class="bash hljs">visu-trend-tweet
├── README.md
├── backend
├── frontend
├── rapport.md (ce fichier)
├── tweets.csv
└── vtt.py
</code></pre><p><strong>Fig. 0 :</strong> <em>Structure du projet</em></p><h2 id="1---Les-données"><a class="anchor hidden-xs" href="#1---Les-données" title="1---Les-données"><span class="octicon octicon-link"></span></a>1 - Les données</h2><p>Un jeu de données de test nous est fourni dans le cadre de l’UE. Il s’agit d’un jeu de tweets sous forme d’un fichier CSV, nomé <code>tweets.csv</code>.</p><pre><code class="bash hljs">$ wc -l tweets.csv 
   33675 tweets.csv
$ du -h tweets.csv 
6.0M	tweets.csv
</code></pre><p><strong>Fig. 1 :</strong> <em>Le fichier comporte 33674 tweets (1 tweet par ligne, sans compter le header) et fait 6Mo</em></p><pre><code class="csv hljs"><span class="hljs-string">"id"</span>,<span class="hljs-string">"user_id"</span>,<span class="hljs-string">"user_name"</span>,<span class="hljs-string">"user_screen_name"</span>,<span class="hljs-string">"user_followers_count"</span>,<span class="hljs-string">"text"</span>,<span class="hljs-string">"place_name"</span>,<span class="hljs-string">"place_country"</span>,<span class="hljs-string">"place_country_code"</span>,<span class="hljs-string">"longitude"</span>,<span class="hljs-string">"latitude"</span>,<span class="hljs-string">"lang"</span>,<span class="hljs-string">"date"</span>,<span class="hljs-string">"timestamp"</span>,<span class="hljs-string">"hashtag_0"</span>,<span class="hljs-string">"hashtag_1"</span>,<span class="hljs-string">"hashtag_2"</span>
<span class="hljs-string">"1080003336894595073"</span>,<span class="hljs-string">"118714827"</span>,<span class="hljs-string">"ずらやん@ばなび🍒月西か39b"</span>,<span class="hljs-string">"zurayan"</span>,<span class="hljs-number">1340</span>,<span class="hljs-string">"I'm at 神田明神 文化交流館 in 千代田区, 東京都 https://t.co/I3bjEHSvbd"</span>,<span class="hljs-string">"東京 千代田区"</span>,<span class="hljs-string">"日本"</span>,<span class="hljs-string">"JP"</span>,<span class="hljs-number">139.7676</span>,<span class="hljs-number">35.701847</span>,<span class="hljs-string">"ja"</span>,<span class="hljs-string">"2019-01-01T07:30:35+00:00"</span>,<span class="hljs-string">"1546327835664"</span>,<span class="hljs-string">""</span>,<span class="hljs-string">""</span>,<span class="hljs-string">""</span>
<span class="hljs-string">"1080003416573857792"</span>,<span class="hljs-string">"866788685357998085"</span>,<span class="hljs-string">"Ivory Shews"</span>,<span class="hljs-string">"IvoryShews"</span>,<span class="hljs-number">62</span>,<span class="hljs-string">"Denim air force ones high. 60 shipped gifted on PayPal or 65 invoiced. #airforces #airforce1 #nike #ivoryshews #forsale #kickstagram #instakicks #sneakerheadsofinstagram #sneakerheads… https://t.co/ALCkhG6uPL"</span>,<span class="hljs-string">"Memphis, TN"</span>,<span class="hljs-string">"United States"</span>,<span class="hljs-string">"US"</span>,<span class="hljs-number">-90.0524</span>,<span class="hljs-number">35.1426</span>,<span class="hljs-string">"en"</span>,<span class="hljs-string">"2019-01-01T07:30:54+00:00"</span>,<span class="hljs-string">"1546327854661"</span>,<span class="hljs-string">"airforces"</span>,<span class="hljs-string">"airforce1"</span>,<span class="hljs-string">"nike"</span>
...
...
</code></pre><p><strong>Fig. 2 :</strong> <em>Extrait du fichier <code>tweets.csv</code> fourni dans le sujet</em></p><p>Les champs se divisent en deux catégories :</p><ul>
<li>Informations relatives à l’utilisateur<br>
<code>user_id, user_name, user_screen_name, user_followers_count</code></li>
<li>Informations relatives au tweet<br>
<code>id, text, place_name, place_country, place_country_code, longitude, latitude, lang, date, timestamp, hashtag_0, hashtag_1, hashtag_2</code></li>
</ul><p>Pour simplifier, on peut dire qu’un utilisateur est un couple <code>(user_id, user_name)</code> et qu’un tweet est un quintuplet <code>(tweet_id, utilisateur, corps, lieu, hashtags)</code>.
On remarque en particulier que les trois premiers hashtags sont déja extraits du corps du texte.</p><h2 id="2---Serveur-WSIG-like"><a class="anchor hidden-xs" href="#2---Serveur-WSIG-like" title="2---Serveur-WSIG-like"><span class="octicon octicon-link"></span></a>2 - Serveur WSIG-like</h2><p>L’un des composants principaux de cette webapp est un serveur capable de servir de pages statiques au client, ainsi que de satisfaire des requêtes paramétrées.<br>
Nous décidons de découpler l’aspect applicatif et l’aspect service dans deux modules distincts, pour rendre l’implémentation de la logique métier indépendante de la solution de serveur.</p><pre><code class="bash hljs">visu-trend-tweet
├── ...
├── backend
│   ├── __init__.py
│   ├── __main__.py
│   ├── __pycache__
│   ├── app.py
│   ├── server.py
│   └── tools.py
└── vtt.py
</code></pre><p><strong>Fig. 3 :</strong> <em>Organisation du paquet backend</em></p><p>Nous nous proposons d’implémenter la logique de serveur dans <code>server.py</code> et la logique applicative dans <code>app.py</code>, le module principal s’occupera simplement d’implémenter la logique “métier”.</p><h3 id="a-vttpy"><a class="anchor hidden-xs" href="#a-vttpy" title="a-vttpy"><span class="octicon octicon-link"></span></a>a. <code>vtt.py</code></h3><p>Le module vtt nous servira à déclarer les différents traitements sur les données, puis démarer le serveur.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span></div><div class="code"><span class="hljs-keyword">from</span> backend <span class="hljs-keyword">import</span> Application

vtt = Application(__name__)

<span class="hljs-meta">@vtt.rule('/fabulous')</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fab</span><span class="hljs-params">(user)</span>:</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hey <span class="hljs-subst">{user}</span>, you are fabulous !"</span>
    
vtt.run()
</div></div></code></pre><p><strong>Fig. 4 :</strong> <em>Code type d’instantiation d’une application avec le paquet backend, correspondant schématiquement à <code>vtt.py</code></em></p><p>Pour créer une application et la servir, il nous suffit simplement d’instantier la classe Application, d’éventuellement y ajouter differentes règles - qui correspondront à un endpoint et a une URL - puis de lancer le serveur avec la fonction <code>run()</code>.</p><p><strong>Exemple</strong> curl simple sur un endpoint
Dans un premier terminal on lance le serveur :</p><pre><code class="bash hljs">$ python vtt.py
Serving HTTP on 127.0.0.1 port 8080 (http://127.0.0.1:8080/) ...
</code></pre><p>Depuis un second terminal, on execute une requête sur ce endpoint :</p><pre><code class="bash hljs">$ curl <span class="hljs-string">"localhost:8080/fabulous?user=Alice"</span>
Hey Alice, you are fabulous !
</code></pre><p>On observe bien que l’endpoint existe et que le query parameter à bien été passé.</p><h3 id="b-serverpy"><a class="anchor hidden-xs" href="#b-serverpy" title="b-serverpy"><span class="octicon octicon-link"></span></a>b. <code>server.py</code></h3><p>Pour satisfaire des requêtes HTTP, python 3 nous fournit un module : <a href="https://docs.python.org/3/library/http.server.html" title="http.server: HTTP Server et Request Handlers" target="_blank" rel="noopener"><code>http.server</code></a>.<br>
Deux classes sont principalement à utiliser : <a href="https://docs.python.org/3/library/http.server.html#http.server.HTTPServer" target="_blank" rel="noopener"><code>HTTPServer</code></a> et <a href="https://docs.python.org/3/library/http.server.html#http.server.SimpleHTTPRequestHandler" target="_blank" rel="noopener"><code>SimpleHTTPRequestHandler</code></a>. La première sert à intercepter les requêtes et instancie la seconde à chaque fois qu’il y a une requête pour la traiter.</p><p>La méthode utilitaire <code>serve</code> est utilisée pour lancer le serveur, il s’agit du point d’entrée à préférer pour le module <code>backend.server</code>. Elle s’occupe essentiellement de configurer la classe serveur avec l’adresse de la socket ouverte pour écouter les requêtes, de configurer le RequestHandler et de lancer le service.<br>
Afin de supporter plusieurs requêtes de façon concurrente, nous pouvons demander au serveur d’ouvrir une thread pour chacune. Pour ce faire, nous suivons toutes les threads en les ajoutant à une liste de threads pour eventuellement attendre leur terminaison dans le futur. On remarque que le join se fait dans un générateur qui est passé à une fonction utilitaire <code>progress_bar</code>qui va automatiquement consommer (joindre le thread ici) chaque element du générateur et mettre à jour la barre de chargement au fur et à mesure.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span></div><div class="code"> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">server_close</span><span class="hljs-params">(self)</span>:</span>
     super().server_close()
     <span class="hljs-keyword">if</span> self.wait_for_threads:
         threads, self._threads = self._threads, <span class="hljs-keyword">None</span>
         <span class="hljs-keyword">if</span> threads:
             l = len(threads)
             progress_bar((t.join() <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> threads),
                          l,
                          prefix=<span class="hljs-string">'Waiting for threads :'</span>,
                          suffix=<span class="hljs-string">'Completed :'</span>,
                          bar_length=<span class="hljs-number">50</span>)
     <span class="hljs-keyword">else</span>:
         print(<span class="hljs-string">'Not waiting for threads, terminating.'</span>)
</div></div></code></pre><p><strong>Fig. 5 :</strong> <em>Traitement des threads à la terminaison du serveur</em></p><p>Un bug que l’on a rencotré est que quand on demande l’arret du serveur en mode multi-threadé, il attendrait indéfiniment des threads (ou s’executent les RequestHandlers). A priori, nous pensions qu’il s’agissait d’une erreur de déréférencement, puis que le problème à été réglé en changeant le code de la Fig. 6 à celui de la Fig. 7 :</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span></div><div class="code">HandlerClass.protocol_version = protocol

<span class="hljs-keyword">with</span> ServerClass(server_address=addr,
                 RequestHandlerClass=partial(HandlerClass,  
                                             directory=directory,  
                                             app=app)) <span class="hljs-keyword">as</span> httpd:
</div></div></code></pre><p><strong>Fig. 6 :</strong> <em>Passage de <code>protocol_version</code> avant passage de <code>directory</code></em></p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span></div><div class="code">HandlerClass = partial(HandlerClass, directory=directory, app=app)
HandlerClass.protocol_version = protocol

<span class="hljs-keyword">with</span> ServerClass(server_address=addr,
                 RequestHandlerClass=HandlerClass) <span class="hljs-keyword">as</span> httpd:
</div></div></code></pre><p><strong>Fig. 7 :</strong> <em>Passage de <code>protocol_version</code> <strong>après</strong> passage de <code>directory</code></em></p><p>Enfin, c’est dans la classe <code>CompleteHTTPRequestHandler</code>  que l’on vérifie si l’url demandée correspond à un endpoint enregistré par l’applicatif (dans les methodes <code>do_GET</code> et <code>do_POST</code>). On remarquera que c’est ici que se fait la sérialization, elle pourrait être plus fine, ici c’est simplement un passage en <code>str</code>.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span></div><div class="code"><span class="hljs-keyword">from</span> urllib.parse <span class="hljs-keyword">import</span> parse_qsl

url = urlparse(self.path)
path = url.path
query = dict(parse_qsl(url.query))

<span class="hljs-keyword">if</span> self.app.is_rule(path):
    output = bytes(str(self.app._exec_rule(path, <span class="hljs-string">'GET'</span>, query)), <span class="hljs-string">'utf-8'</span>)
    self.wfile.write(output)
<span class="hljs-keyword">else</span>:
    super().do_GET()
</div></div></code></pre><p><strong>Fig. 8 :</strong> <em>Requête GET</em></p><h3 id="c-apppy"><a class="anchor hidden-xs" href="#c-apppy" title="c-apppy"><span class="octicon octicon-link"></span></a>c. <code>app.py</code></h3><p>La classe <code>Application</code> à pour but de retenir les correspondances entre des URL spécifiques (que l’on appellera des <em>règles</em> ou <em>rules</em>) et des fonctions. Il y a deux structures de données principales :</p><ul>
<li><code>rules</code> : dictionnaire associant un chemin d’URL à un <em>endpoint</em>, ses méthodes HTTP et les arguments qu’il accepte.</li>
<li><code>endpoints</code> : dictionnaire associant un <em>endpoint</em> avec une fonction.</li>
</ul><p>On fait ici la distinction entre endpoint et fonction, car on pourrait vouloir retrouver une URL sachant une certaine fonctcion. Dans ce cas, on pourrait avoir deux fonctions portant le même nom, mais ne designant pas le même endpoint, typiquement :</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span>
<span data-linenumber="14"></span>
<span data-linenumber="15"></span>
<span data-linenumber="16"></span>
<span data-linenumber="17"></span>
<span data-linenumber="18"></span>
<span data-linenumber="19"></span>
<span data-linenumber="20"></span>
<span data-linenumber="21"></span></div><div class="code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, app)</span>:</span>
        self.app = app
    
<span class="hljs-meta">    @self.app.rule('/user/auth')</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">auth</span><span class="hljs-params">()</span>:</span>
        <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Admin</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, app)</span>:</span>
        self.app = app
    
<span class="hljs-meta">    @self.app.rule('/admin/auth')</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">auth</span><span class="hljs-params">()</span>:</span>
        <span class="hljs-keyword">pass</span>

<span class="hljs-keyword">from</span> backend <span class="hljs-keyword">import</span> Application

app = Application(<span class="hljs-string">'test'</span>)
user = User(app)
admin = Admin(app)
</div></div></code></pre><p><strong>Fig. 8 :</strong> Exemple de collision de nom dans endpoint_</p><p>Ici, si l’on utilisait simplement le nom de la methode pour désigner le endpoint, on ne pourrait pas faire la distinction entre  <code>User.auth</code> et <code>Admin.auth</code> pour en retrouver l’URL (dans l’application VTT il n’y a pas encore besoin de faire de reverse lookup).</p><p>Ensuite, on peut executer une règle étant donné son URL, des paramètres (on vérifie bien que les bons paramètres sont passés) ainsi qu’une méthode.</p><p>Enfin, nous avons une méthode utilitaire <code>run()</code> qui nous permet de lancer le serveur associé à cette application.</p><h2 id="3---Interrogation-des-données"><a class="anchor hidden-xs" href="#3---Interrogation-des-données" title="3---Interrogation-des-données"><span class="octicon octicon-link"></span></a>3 - Interrogation des données</h2><p>On utilise bibliotheque pandas afin de faciliter la manipulation et l’analyse des données.l’implementation d’un Dataframe contenant les données permet de faire les traitement nécessaire afin de renvoyer le résultat attendu au client.</p><h2 id="4---Client-asynchrone"><a class="anchor hidden-xs" href="#4---Client-asynchrone" title="4---Client-asynchrone"><span class="octicon octicon-link"></span></a>4 - Client asynchrone</h2><p>Le client asynchrone joue le role de passerelle entre le serveur traitant les requetes que le client envoie et le client recevant les reponses du serveur.le transfert d’informations se fera sous form de requetes <code>Http</code>.<br>
La fonction <code>Client.ajax</code> envoie une requete <code>Http</code> et encapsule le retour sous forme d’un objet <code>Promise</code> qui lui se résout et renvoie le résultat dés qu’il reçoit la réponse.</p><pre><code class="javascript hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span>
<span data-linenumber="14"></span>
<span data-linenumber="15"></span></div><div class="code"><span class="token function">Promise</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		xhr<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"readystatechange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">/* requete teminée */</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span>
					<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span> responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>

        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</div></div></code></pre><p><code>Serve.py</code> reçoit la requete <code>http(methode,url)</code> qui traduirat en <code>regle,parametre</code> c’est ce qui va permetre de lancer le traitement spécifique.Par exemple le client veut recevoir(GET) <code>Traitement1(p1,p2)</code>=&gt;
la requete <code>Http</code> correspondante:</p><pre><code class="javascript hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span></div><div class="code"><span class="token keyword">let</span> url <span class="token operator">=</span> "http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>Traitement1<span class="token operator">?</span>p1<span class="token operator">=</span>value1<span class="token operator">&amp;</span>p2<span class="token operator">=</span>value2
<span class="token comment">//on peut faire plusieurs appel ajax dans une fonctins asynch comme</span>
<span class="token comment">//Client.query</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
	res <span class="token operator">=</span> <span class="token keyword">await</span> Client<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">" GET"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">alert</span> <span class="token punctuation">(</span><span class="token string">"ERROR"</span><span class="token punctuation">)</span>
	res<span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</div></div></code></pre><p>Maintenant le traitement dans <code>vtt.py</code> qui va lancer le serveur est :</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span></div><div class="code"><span class="hljs-meta">@app.rule('/search', methods=('GET,'))</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">search</span><span class="hljs-params">(p1,p2)</span>:</span> //p1==value1 &amp; p2==value2s
    tmp=df.loc[df[<span class="hljs-string">'text'</span>].str.contains(p)]
    print(p)
</div></div></code></pre><p>On sait baser sur deux principe dans cette partie,l’asynchonisation des requetes ajax pour faire des traitements parallèles,et la synchonisation du retour serveur à l’aide des promesses.</p><h2 id="5---Présentation"><a class="anchor hidden-xs" href="#5---Présentation" title="5---Présentation"><span class="octicon octicon-link"></span></a>5 - Présentation</h2><p><code>html,css,javascript</code> ont été utilisés pour l’affichage des graphes et des pages.
Pour pouvoir déssiner les graphes qu’on veut afficher on a utilisé l’element <code>html</code> padas afin de faire des déssins dynamiques manipulier les dimentions des histogramme par exemlple.
Voici un exemple d’un histogramme pour la recherches des tweets contenant un “yes”.</p><p><img src="https://i.imgur.com/9FQko0i.png" alt=""></p><h2 id="6---Conclusion"><a class="anchor hidden-xs" href="#6---Conclusion" title="6---Conclusion"><span class="octicon octicon-link"></span></a>6 - Conclusion</h2><p>VTT est encore dans sa phase de développement la plus précoce (~60h <span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-3-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 115%; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi><mi>r</mi><mi>a</mi><mi>v</mi><mi>a</mi><mi>i</mi><mi>l</mi><mo>&amp;#x00D7;</mo><mi>h</mi><mi>o</mi><mi>m</mi><mi>m</mi><mi>e</mi></math>" role="presentation"><span id="MJXc-Node-16" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-17" class="mjx-mrow"><span id="MJXc-Node-18" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.383em; padding-bottom: 0.274em;">t</span></span><span id="MJXc-Node-19" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">r</span></span><span id="MJXc-Node-20" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">a</span></span><span id="MJXc-Node-21" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">v</span></span><span id="MJXc-Node-22" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">a</span></span><span id="MJXc-Node-23" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.438em; padding-bottom: 0.274em;">i</span></span><span id="MJXc-Node-24" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.492em; padding-bottom: 0.274em;">l</span></span><span id="MJXc-Node-25" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.22em; padding-bottom: 0.329em;">×</span></span><span id="MJXc-Node-26" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.492em; padding-bottom: 0.274em;">h</span></span><span id="MJXc-Node-27" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">o</span></span><span id="MJXc-Node-28" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">m</span></span><span id="MJXc-Node-29" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">m</span></span><span id="MJXc-Node-30" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.22em; padding-bottom: 0.274em;">e</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>v</mi><mi>a</mi><mi>i</mi><mi>l</mi><mo>×</mo><mi>h</mi><mi>o</mi><mi>m</mi><mi>m</mi><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">travail \times homme</script></span>), plusieurs améliorations sont possibles :</p><ul>
<li>Le frontend est légèrement austère</li>
<li>Plus de filtres de recherche</li>
<li>Un affichage des tweets sur une carte du monde</li>
</ul></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#VTT-🚴‍♂️" title="VTT 🚴‍♂️">VTT 🚴‍♂️</a><ul class="nav">
<li><a href="#Une-webapp-de-visualisation-de-tweets-en-python-et-javascript" title="Une webapp de visualisation de tweets en python et javascript">Une webapp de visualisation de tweets en python et javascript</a></li>
<li><a href="#0---Introduction" title="0 - Introduction">0 - Introduction</a></li>
<li><a href="#1---Les-données" title="1 - Les données">1 - Les données</a></li>
<li><a href="#2---Serveur-WSIG-like" title="2 - Serveur WSIG-like">2 - Serveur WSIG-like</a><ul class="nav">
<li><a href="#a-vttpy" title="a. vtt.py">a. vtt.py</a></li>
<li><a href="#b-serverpy" title="b. server.py">b. server.py</a></li>
<li><a href="#c-apppy" title="c. app.py">c. app.py</a></li>
</ul>
</li>
<li><a href="#3---Interrogation-des-données" title="3 - Interrogation des données">3 - Interrogation des données</a></li>
<li class=""><a href="#4---Client-asynchrone" title="4 - Client asynchrone">4 - Client asynchrone</a></li>
<li><a href="#5---Présentation" title="5 - Présentation">5 - Présentation</a></li>
<li><a href="#6---Conclusion" title="6 - Conclusion">6 - Conclusion</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#VTT-🚴‍♂️" title="VTT 🚴‍♂️">VTT 🚴‍♂️</a><ul class="nav">
<li><a href="#Une-webapp-de-visualisation-de-tweets-en-python-et-javascript" title="Une webapp de visualisation de tweets en python et javascript">Une webapp de visualisation de tweets en python et javascript</a></li>
<li><a href="#0---Introduction" title="0 - Introduction">0 - Introduction</a></li>
<li><a href="#1---Les-données" title="1 - Les données">1 - Les données</a></li>
<li><a href="#2---Serveur-WSIG-like" title="2 - Serveur WSIG-like">2 - Serveur WSIG-like</a><ul class="nav">
<li><a href="#a-vttpy" title="a. vtt.py">a. vtt.py</a></li>
<li><a href="#b-serverpy" title="b. server.py">b. server.py</a></li>
<li><a href="#c-apppy" title="c. app.py">c. app.py</a></li>
</ul>
</li>
<li><a href="#3---Interrogation-des-données" title="3 - Interrogation des données">3 - Interrogation des données</a></li>
<li class=""><a href="#4---Client-asynchrone" title="4 - Client asynchrone">4 - Client asynchrone</a></li>
<li><a href="#5---Présentation" title="5 - Présentation">5 - Présentation</a></li>
<li><a href="#6---Conclusion" title="6 - Conclusion">6 - Conclusion</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
